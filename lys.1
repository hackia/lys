.TH LYS 1 "February 2026" "lys 0.2.0" "Lys User Manual"
.SH NAME
lys \- A secure local-first version control system
.SH SYNOPSIS
.B lys
[\fIsubcommand\fR] [\fIoptions\fR]
.SH DESCRIPTION
.B lys
is a version control system designed to be secure and local-first. It provides various tools for managing repositories, tracking changes, and collaborating within a team through a secure environment.
.SH SUBCOMMANDS
.TP
\fBinit\fR
Initialize the current directory as a new Lys repository.
.TP
\fBnew\fR
Create a new Lys project with a prompted setup.
.TP
\fBverify\fR [\fB--deep\fR]
Check repository integrity and missing blobs. The \fB--deep\fR option recalculates Blake3 checksums for every blob, which is slower but safer.
.TP
\fBsummary\fR
Show information about the working directory.
.TP
\fBstatus\fR
Show changes in the working directory compared to the last commit.
.TP
\fBpush\fR
Push local commits to a remote architect.
.TP
\fBpull\fR
Pull commits from a remote architect.
.TP
\fBprune\fR
Maintain repository health by removing old history and reclaiming disk space.
.TP
\fBshell\fR [\fIref\fR]
Open a temporary shell with the code mounted. \fIref\fR can be a branch name, tag, or commit hash (default is HEAD).
.TP
\fBmount\fR \fItarget\fR [\fB-r\fR|\fB--ref\fR \fIref\fR]
Mount a specific version or the current head to a directory. \fItarget\fR is the mount point.
.TP
\fBtree\fR [\fIcolor\fR]
Show the repository structure. \fIcolor\fR defaults to false.
.TP
\fBimport\fR \fIurl\fR [\fB--depth\fR \fIdepth\fR] [\fB--recent\fR]
Import a Git repository into Lys. \fIurl\fR is the Git repository URL. \fB--recent\fR only imports the last 2 years of history.
.TP
\fBkeygen\fR
Generate Ed25519 identity keys for signing commits.
.TP
\fBserve\fR [\fB-p\fR \fIport\fR]
Start the Silex Node (Daemon) to receive atoms. Default port is 3000.
.TP
\fBaudit\fR
Verify the integrity of commit signatures.
.TP
\fBlog\fR [\fB-p\fR|\fB--page\fR \fInumber\fR] [\fB-n\fR|\fB--limit\fR \fIcount\fR]
Show commit logs. Default limit is 120 commits per page.
.TP
\fBdiff\fR
Show changes between the working tree and the last commit.
.TP
\fBclone\fR \fIurl\fR [\fIname\fR] [\fB-d\fR|\fB--depth\fR \fIdepth\fR]
Clone a Git repository into a new Lys repository.
.TP
\fBhealth\fR
Check the source code quality/status.
.TP
\fBtodo\fR [\fIsubcommand\fR]
Manage project tasks. Subcommands: \fBadd\fR, \fBstart\fR, \fBlist\fR, \fBclose\fR.
.TP
\fBcommit\fR
Record changes to the repository.
.TP
\fBrestore\fR \fIpath\fR
Discard changes in the working directory for the specified file.
.TP
\fBchat\fR [\fIsubcommand\fR]
Chat with the team. Subcommands: \fBsend\fR, \fBlist\fR.
.TP
\fBsync\fR \fIpath\fR
Backup the repository to a destination path (USB, Drive, etc.).
.TP
\fBbranch\fR \fIname\fR
Create a new branch with the given name.
.TP
\fBcheckout\fR \fIname\fR
Switch branches or restore working tree files.
.TP
\fBfeat\fR [\fIsubcommand\fR]
Manage feature branches. Subcommands: \fBstart\fR, \fBfinish\fR.
.TP
\fBhotfix\fR [\fIsubcommand\fR]
Manage hotfix branches. Subcommands: \fBstart\fR, \fBfinish\fR.
.TP
\fBtag\fR [\fIsubcommand\fR]
Manage version tags. Subcommands: \fBcreate\fR, \fBlist\fR.
.TP
\fBweb\fR [\fB-p\fR \fIport\fR]
Start the web interface. Default port is 3000. Optional content: \fB--spotify\fR, \fB--video\fR, \fB--banner\fR, \fB--title\fR, \fB--subtitle\fR, \fB--footer\fR, \fB--homepage\fR, \fB--documentation\fR.
.TP
\fBspotify\fR \fIurl\fR
Set the Music album/track to display on the home page.
.TP
\fBvideo\fR \fIurl\fR
Set the YouTube video banner to display on the home page.
.TP
\fBbanner\fR \fIurl\fR
Set the image banner to display on the home page.
.SH EXAMPLES
.TP
Initialize a repository and check status:
.EX
lys init
lys status
.EE
.TP
Create a new project with the interactive wizard:
.EX
lys new
.EE
.TP
Verify repository integrity (quick and deep):
.EX
lys verify
lys verify --deep
.EE
.TP
Show a colored tree:
.EX
lys tree true
.EE
.TP
View logs with pagination:
.EX
lys log -p 2 -n 50
.EE
.TP
Commit changes:
.EX
lys commit
.EE
.TP
Restore a file from the last commit:
.EX
lys restore src/main.rs
.EE
.TP
Create and switch branches:
.EX
lys branch feature/login
lys checkout feature/login
.EE
.TP
Feature and hotfix flows:
.EX
lys feat start new-api
lys feat finish new-api
lys hotfix start urgent-fix
lys hotfix finish urgent-fix
.EE
.TP
Tag management:
.EX
lys tag create v0.2.0 -m "First release"
lys tag list
.EE
.TP
Import or clone a Git repository:
.EX
lys import https://github.com/org/repo.git --recent
lys clone https://github.com/org/repo.git repo-copy -d 200
.EE
.TP
Open a temporary shell or mount a ref:
.EX
lys shell
lys shell v0.2.0
lys mount /mnt/lys_project --ref v0.2.0
.EE
.TP
Start the daemon and the web UI:
.EX
lys serve -p 3000
lys web -p 8080 --title "Lys" --subtitle "Local-first VCS"
.EE
.TP
Set homepage media assets:
.EX
lys spotify https://open.spotify.com/track/...
lys video https://youtube.com/watch?v=...
lys banner https://example.com/banner.png
.EE
.TP
Task and chat utilities:
.EX
lys todo add "Ship v0.2.0" -u saigo -d 2026-03-01
lys todo list
lys chat send "Ready for review?"
lys chat list
.EE
.SH SEE ALSO
.BR lysrc (5)
.TP
Backup the repository:
.EX
lys sync /Volumes/BackupDrive
.EE
.SH ENVIRONMENT
.TP
.B PAGER
If set, \fBlys\fR will use this command as a pager for commands like \fBlog\fR and \fBtree\fR. Defaults to \fBless -F -X -R\fR if available.
.SH FILES
.TP
.I .lys/
The repository's metadata and object database.
.TP
.I syl
A file used by Lys for ignore files or directories in commit information.
.SH AUTHOR
Saigo Ekitae <saigoekitae@gmail.com>
.SH COPYRIGHT
Copyright (c) 2026 Saigo Ekitae.
.SH SEE ALSO
.BR git (1)
